
#DROP TEACHER TABLE
DROP TABLE TEACHER;
#DROP STUDENT TABLE
DROP TABLE STUDENT;
#DROP CLASS TABLE
DROP TABLE CLASS;
#DROP QUESTIONSET TABLE
DROP TABLE QUESTIONSET;
#DROP CHAPTER TABLE
DROP TABLE CHAPTER;
#DROP ANSWERHISTORY TABLE
DROP TABLE ANSWERHISTORY;
#CREATE DATABASE
DROP DATABASE IF EXISTS `TEACHINGROOM`;
CREATE DATABASE `TEACHINGROOM` default charset utf8 COLLATE utf8_general_ci;
USE `TEACHINGROOM`;

#CREATE CHAPTER TABLE
#chapter 
CREATE TABLE `CHAPTER` (
  `CHAPTERID` bigint(20) NOT NULL AUTO_INCREMENT,
  `CHAPTERNAME` varchar(200) NOT NULL,
  PRIMARY KEY (`CHAPTERID`,`CHAPTERNAME`),
  KEY `CHAPTERNAME` (`CHAPTERNAME`)
) ENGINE=InnoDB AUTO_INCREMENT=8 DEFAULT CHARSET=utf8 ;
ALTER TABLE `CHAPTER` AUTO_INCREMENT = 1;
#CREATE QUESTIONSET
#questionset 
 CREATE TABLE `QUESTIONSET` (
  `QUESTIONID` bigint(5) unsigned NOT NULL AUTO_INCREMENT,
  `CHAPTERID` varchar(50) NOT NULL,
  `QUESTIONTITLE` varchar(300) NOT NULL,
  `QUESTIONCONTENT` varchar(2000) NOT NULL,
  `QUESTIONLIMITTIME` varchar(100) NOT NULL,
  `PUBLICDATE` varchar(100) NOT NULL,
  `QUESTIONSCORE` varchar(100) NOT NULL,
  `ANWSER` varchar(10) NOT NULL,
  PRIMARY KEY (`QUESTIONID`),
  KEY `QUESTIONID` (`QUESTIONID`),
  KEY `CHAPTERNAME` (`CHAPTERID`),
  CONSTRAINT `CHAPTERNAME` FOREIGN KEY (`CHAPTERID`) REFERENCES `CHAPTER` (`CHAPTERNAME`)
) ENGINE=InnoDB AUTO_INCREMENT=4 DEFAULT CHARSET=utf8 ;
ALTER TABLE `QUESTIONSET` AUTO_INCREMENT = 1;
#CREATE CLASS TABLE
#class 
 CREATE TABLE `CLASS` (
  `CLASSNAME` varchar(100) NOT NULL,
  `CLASSMATESCOUNT` varchar(100) NOT NULL,
  PRIMARY KEY (`CLASSNAME`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 ;
#CREATE STUDENT TABLE
#student 
 CREATE TABLE `STUDENT` (
  `STUDENTID` varchar(20) NOT NULL DEFAULT '',
  `STUDENTNAME` varchar(100) NOT NULL,
  `STUDENTSEX` varchar(10) NOT NULL,
  `STUEDNTCLASS` varchar(20) NOT NULL,
  `STUDENTSTATUS` varchar(10) NOT NULL,
  `STUDENTONCLASSTIMES` varchar(10) NOT NULL,
  `STUDENTONCLASSDATE` varchar(30) NOT NULL,
  `STUDENTTOTALGRADE` varchar(30) NOT NULL,
  `STUDENTIPADDRESS` varchar(30) NOT NULL,
  PRIMARY KEY (`STUDENTID`),
  KEY `CLASSNAME` (`STUEDNTCLASS`),
  CONSTRAINT `CLASSNAME` FOREIGN KEY (`STUEDNTCLASS`) REFERENCES `CLASS` (`CLASSNAME`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8; 
#CREATE TEACHER TABLE
#teacher 
 CREATE TABLE `TEACHER` (
  `TEACHERNAME` varchar(30) NOT NULL DEFAULT '',
  `TEACHERPASSWORD` varchar(30) NOT NULL DEFAULT '',
  PRIMARY KEY (`TEACHERNAME`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
#CREATE ANSWERHISTORY TABLE
CREATE TABLE `ANSWERHISTORY` (
  `QUESTIONID` bigint(5) NOT NULL,
  `STUDENTID` varchar(20) NOT NULL,
  `STUDENTANSWER` varchar(10) NOT NULL,
  `ANSWERDATE` varchar(30) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8; 


INSERT INTO TEACHER VALUES('jsp001','1');
INSERT INTO CLASS VALUES('计算机学院软件081','34');
INSERT INTO CLASS VALUES('计算机学院软件082','34');
INSERT INTO CLASS VALUES('计算机学院软件083','34');
INSERT INTO CLASS VALUES('计算机学院软件084','34');

#DELETE DATA FROM QUESTIONSET
DELETE FROM QUESTIONSET;
#DELETE DATA FROM CHAPTER
DELETE FROM CHAPTER;
#INSERT DATA TO CHAPTER
INSERT INTO CHAPTER VALUES(0,'绪论');
INSERT INTO CHAPTER VALUES(0,'html');
INSERT INTO CHAPTER VALUES(0,'JSP元素');
INSERT INTO CHAPTER VALUES(0,'内置对象');
INSERT INTO CHAPTER VALUES(0,'会话');
INSERT INTO CHAPTER VALUES(0,'Servlet基础');
INSERT INTO CHAPTER VALUES(0,'过滤器与侦听器');
INSERT INTO CHAPTER VALUES(0,'JavaBean');
INSERT INTO CHAPTER VALUES(0,'JDBC数据库访问');
INSERT INTO CHAPTER VALUES(0,'EL与JSTL标记库');
INSERT INTO CHAPTER VALUES(0,'MVC及Structs');
#INSERT DATA TO QUESTIONSET
#chapter one
INSERT INTO QUESTIONSET VALUES(0,'JSP元素','JSP元素的第一个问题','JSP元素的第一个问题的内容','30','2012-4-10','10','A');
INSERT INTO QUESTIONSET VALUES(0,'JSP元素','JSP元素的第二个问题','JSP元素的第二个问题的内容','30','2012-4-10','10','B');
INSERT INTO QUESTIONSET VALUES(0,'JSP元素','JSP元素的第三个问题','JSP元素的第三个问题的内容','30','2012-4-10','10','C');
INSERT INTO QUESTIONSET VALUES(0,'JSP元素','JSP元素的第四个问题','JSP元素的第四个问题的内容','30','2012-4-10','10','D');
INSERT INTO QUESTIONSET VALUES(0,'JSP元素','JSP元素的第五个问题','JSP元素的第五个问题的内容','30','2012-4-10','10','A');
#chapter two
INSERT INTO QUESTIONSET VALUES(0,'JDBC数据库访问','JDBC数据库访问的第一个问题','JDBC数据库访问的第一个问题的内容','30','2012-4-10','10','A');
INSERT INTO QUESTIONSET VALUES(0,'JDBC数据库访问','JDBC数据库访问的第二个问题','JDBC数据库访问的第二个问题的内容','30','2012-4-10','10','B');
INSERT INTO QUESTIONSET VALUES(0,'JDBC数据库访问','JDBC数据库访问的第三个问题','JDBC数据库访问的第三个问题的内容','30','2012-4-10','10','C');
INSERT INTO QUESTIONSET VALUES(0,'JDBC数据库访问','JDBC数据库访问的第四个问题','JDBC数据库访问的第四个问题的内容','30','2012-4-10','10','D');
INSERT INTO QUESTIONSET VALUES(0,'JDBC数据库访问','JDBC数据库访问的第五个问题','JDBC数据库访问的第五个问题的内容','30','2012-4-10','10','A');
COMMIT;